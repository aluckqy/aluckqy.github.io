(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-basics-china"],{"0e99":function(t,a,i){"use strict";i.r(a);var e=i("2237"),s=i("ecfd");for(var n in s)["default"].indexOf(n)<0&&function(t){i.d(a,t,(function(){return s[t]}))}(n);var o=i("f0c5"),c=Object(o["a"])(s["default"],e["b"],e["c"],!1,null,"19c2042e",null,!1,e["a"],void 0);a["default"]=c.exports},2237:function(t,a,i){"use strict";i.d(a,"b",(function(){return e})),i.d(a,"c",(function(){return s})),i.d(a,"a",(function(){}));var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",[i("cu-custom",{attrs:{bgColor:"bg-gradual-blue",isBack:!0}},[i("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),i("template",{attrs:{slot:"content"},slot:"content"},[t._v("班组中餐")])],2),t._l(t.groupList,(function(a,e){return i("v-uni-view",{key:e},[i("v-uni-view",{staticClass:"cu-bar bg-white solid-bottom margin-top"},[i("v-uni-view",{staticClass:"action"},[i("v-uni-text",{staticClass:"cuIcon-group text-green",staticStyle:{"font-size":"100%"}},[t._v(t._s(a.group)+"("+t._s(a.location)+")")])],1)],1),i("v-uni-view",{staticClass:"cu-list menu card-menu"},[t._l(a.users,(function(s,n){return i("v-uni-view",{key:n,staticClass:"cu-item",class:t.modalName=="move-box-"+e+n?"move-cur":"",attrs:{"data-target":"move-box-"+e+n},on:{touchstart:function(a){arguments[0]=a=t.$handleEvent(a),t.ListTouchStart.apply(void 0,arguments)},touchmove:function(a){arguments[0]=a=t.$handleEvent(a),t.ListTouchMove.apply(void 0,arguments)},touchend:function(a){arguments[0]=a=t.$handleEvent(a),t.ListTouchEnd.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"cu-avatar round lg",style:[{backgroundImage:"url(https://mp-2349e2b3-2bda-47db-937e-a03686d78af1.cdn.bspapp.com/static/avatar/"+n+".jpg)"}]}),i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"text-grey"},[i("v-uni-text",{staticClass:"text-blue margin-right-xs"},[t._v(t._s(n+1)+"."+t._s(s.name))])],1),i("v-uni-view",{staticClass:"text-gray text-sm"},[i("v-uni-text",{staticClass:"cuIcon-profile text-gray margin-right-xs"},[t._v(t._s(s.workid))])],1)],1),i("v-uni-view",{staticClass:"action"},[i("v-uni-switch",{class:s.state?"checked":"",attrs:{checked:!!s.state},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.Switch(n,a._id,s.state)}}})],1),i("v-uni-view",{staticClass:"move"},[i("v-uni-view",{staticClass:"bg-grey",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showModal("DialogModal1",a._id,n,s.name,s.workid,s.state,"putUser")}}},[t._v("修改")]),i("v-uni-view",{staticClass:"bg-red",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.delUser(n,a._id)}}},[t._v("删除")])],1)],1)})),i("v-uni-view",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showModal("DialogModal1",a._id,"","","","","addUser")}}},[i("v-uni-button",{staticClass:"cu-btn block bg-white lg"},[i("v-uni-text",{staticClass:"cuIcon-roundadd"}),t._v("添加")],1)],1)],2),i("v-uni-view",{staticClass:"cu-modal",class:"DialogModal1"==t.modalName1?"show":""},[i("v-uni-view",{staticClass:"cu-dialog"},[i("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},["putUser"==t.method?i("v-uni-view",{staticClass:"content"},[t._v("修改")]):i("v-uni-view",{staticClass:"content"},[t._v("添加")]),i("v-uni-view",{staticClass:"action",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.hideModal.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"cuIcon-close text-red"})],1)],1),i("v-uni-view",{staticClass:"padding-xl"},[i("v-uni-form",[i("v-uni-view",{staticClass:"cu-form-group margin-top"},[i("v-uni-view",{staticClass:"title"},[t._v("姓名")]),i("v-uni-input",{attrs:{name:"input"},model:{value:t.name,callback:function(a){t.name=a},expression:"name"}})],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v("工号")]),i("v-uni-input",{attrs:{name:"input"},model:{value:t.workid,callback:function(a){t.workid=a},expression:"workid"}})],1)],1)],1),i("v-uni-view",{staticClass:"cu-bar bg-white justify-end"},[i("v-uni-view",{staticClass:"action"},[i("v-uni-button",{staticClass:"cu-btn line-green text-green",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.hideModal.apply(void 0,arguments)}}},[t._v("取消")]),i("v-uni-button",{staticClass:"cu-btn bg-green margin-left",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.hideModalok(t.putUser)}}},[t._v("确定")])],1)],1)],1)],1)],1)})),t.loadModal?i("v-uni-view",{staticClass:"cu-load load-modal"},[i("v-uni-image",{attrs:{src:"https://mp-2349e2b3-2bda-47db-937e-a03686d78af1.cdn.bspapp.com/static/loading.png",mode:"aspectFit"}}),i("v-uni-view",{staticClass:"gray-text"},[t._v("加载中...")])],1):t._e()],2)},s=[]},"73c5":function(t,a,i){"use strict";(function(t,e){i("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s={onShow:function(){this.LoadModal(!0);try{this.userdata=uni.getStorageSync("userdata")}catch(a){t("log",a," at pages/basics/china.vue:95")}this.getUserList()},data:function(){return{userdata:{},groupList:[],modalName:null,modalName1:null,listTouchStart:0,listTouchDirection:null,loadModal:!1,name:"",workid:"",state:"",index:"",_id:"",method:"",database:"user-data-CN"}},methods:{showModal:function(t,a,i,e,s,n,o){this.modalName1=t,this.method=o,this.name=e,this.workid=s,this.state=n,this.index=i,this._id=a},LoadModal:function(t){this.loadModal=t},hideModal:function(t){this.modalName1=null},hideModalok:function(){"putUser"==this.method?this.putUser():"addUser"==this.method&&this.addUser(),this.modalName1=null},ListTouchStart:function(t){this.listTouchStart=t.touches[0].pageX},ListTouchMove:function(t){this.listTouchDirection=t.touches[0].pageX-this.listTouchStart>0?"right":"left"},ListTouchEnd:function(t){"left"==this.listTouchDirection?this.modalName=t.currentTarget.dataset.target:this.modalName=null,this.listTouchDirection=null},Switch:function(a,i,s){var n=this;this.LoadModal(!0),e.callFunction({name:"databaseApi",data:{method:"putSwitch",database:this.database,parameter:{index:a,_id:i,state:!s}}}).then((function(a){t("log",a," at pages/basics/china.vue:178"),n.getUserList()}))},getUserList:function(){var t=this;e.callFunction({name:"databaseApi",data:{method:"getUserList",database:this.database,parameter:{permissions:this.userdata.permissions,type:"get"}}}).then((function(a){t.groupList=a.result.data,t.LoadModal(!1)}))},putUser:function(){var a=this;this.LoadModal(!0),e.callFunction({name:"databaseApi",data:{method:"putUser",database:this.database,parameter:{name:this.name,workid:this.workid,state:this.state,index:this.index,_id:this._id}}}).then((function(i){t("log",i," at pages/basics/china.vue:215"),a.getUserList()}))},addUser:function(){var a=this;this.LoadModal(!0),e.callFunction({name:"databaseApi",data:{method:"addUser",database:this.database,parameter:{name:this.name,workid:this.workid,_id:this._id}}}).then((function(i){t("log",i," at pages/basics/china.vue:234"),a.getUserList()}))},delUser:function(a,i){var s=this;this.LoadModal(!0),e.callFunction({name:"databaseApi",data:{method:"delUser",database:this.database,parameter:{index:a,_id:i}}}).then((function(a){t("log",a," at pages/basics/china.vue:251"),s.getUserList()}))}}};a.default=s}).call(this,i("0de9")["log"],i("a9ff")["default"])},ecfd:function(t,a,i){"use strict";i.r(a);var e=i("73c5"),s=i.n(e);for(var n in e)["default"].indexOf(n)<0&&function(t){i.d(a,t,(function(){return e[t]}))}(n);a["default"]=s.a}}]);